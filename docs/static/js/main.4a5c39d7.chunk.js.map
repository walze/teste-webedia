{"version":3,"sources":["helpers.jsx","Dispatcher.jsx","events.jsx","actions/general.jsx","stores/general.jsx","actions/postActions.jsx","components/Buttons.jsx","components/Header.jsx","stores/PostStore.jsx","components/PostImage.jsx","components/Post.jsx","stores/MobileStore.jsx","components/Loading.jsx","components/Posts.jsx","components/Sidebar.jsx","App.jsx","index.jsx"],"names":["isMobile","window","innerWidth","toggleClass","el","className","addBool","Array","isArray","map","e","hasClass","classList","contains","remove","add","dispatcher","Dispatcher","EVENTS","GET_POSTS","MORE_POSTS","NEW_POST","DELETE_POST","LIKE","THEME_CHANGE","LOADING","event","concat","themeChange","dispatch","type","generalEmitter","EventEmitter","register","_ref","arguments","length","undefined","payload","emit","likePost","newPost","deletePost","Buttons","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","_btn","React","createRef","state","dark","_click","btn","current","_btn$children","slicedToArray","children","text","ball","_toggleClass","setState","_changeTheme","localStorage","setItem","url","prompt","inherits","createClass","key","value","_this2","on","removeDark","TEMP_ALL","from","document","body","querySelectorAll","react_default","a","createElement","onClick","ref","Component","Header","Buttons_Buttons","headers","Content-Type","X-Requested-With","api","axios","create","baseURL","handleError","console","error","alert","postStore","PostStore","_newPost","_ref2","asyncToGenerator","regenerator_default","mark","_callee","post","wrap","_context","prev","next","getMetaData","sent","log","then","getPosts","catch","finally","stop","_x","_deletePost","_ref3","_callee2","id","_context2","delete","_x2","checkIfLiked","likedPosts","includes","handleActions","_ref4","like","data","posts","top5","JSON","parse","getItem","limit","assertThisInitialized","get","_ref5","innerHTML","obj","link","meta","content","name","getAttribute","filter","match","replace","title","description","site_name","image","rs","toConsumableArray","_this3","_this4","p","_ref6","_replacePost","_ref7","push","stringify","PostImage","_like","preventDefault","stopPropagation","props","onLike","_delete","onDelete","likeClass","style","backgroundImage","hidden","simple","react_fontawesome_index_es","icon","count","Post","click","open","simpleClass","mobile","post-id","PostImage_PostImage","date","time","Date","getTime","Math","round","timeAgo","mobileStore","MobileStore","onResize","cb","offResize","off","addEventListener","Loading","settings","slideBy","mouseDrag","controls","nav","loop","Posts","ts","morePostsLock","loading","_onResize","_checkSliderMorePosts","slider","getInfo","navCurrentIndex","slideCount","getMorePosts","goTo","_onScroll","offset","scrollY","outerHeight","scrollHeight","_infiniteScrollListen","scroll","onScrollDebounce","func","wait","immediate","timeout","context","callNow","clearTimeout","setTimeout","debounce","removeEventListener","postsArr","Post_Post","_renderMobile","Loading_Loading","build_default","onTransitionStart","Sidebar","App","_updatePosts","Header_Header","Posts_Posts","Sidebar_Sidebar","library","faHeart","faTrashAlt","faGlobe","faClock","faSyncAlt","ReactDOM","render","src_App","querySelector"],"mappings":"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","file":"static/js/main.4a5c39d7.chunk.js","sourcesContent":["export const timeAgo = date => {\r\n  const diff = new Date().getTime() - date.getTime()\r\n  let time = diff / 1000 / 60 / 60\r\n\r\n  return time < 1\r\n    ? Math.round(time * 60) + ' mins ago'\r\n    : Math.round(time) + ' hours ago'\r\n}\r\n\r\nexport const isMobile = () => window.innerWidth < 767\r\n\r\n/**\r\n * @param { HTMLElement[] } el\r\n * @param { string } class\r\n */\r\nexport const toggleClass = (el, className, addBool) => {\r\n  const element = !Array.isArray(el) ? [el] : el\r\n\r\n  return element.map(e => {\r\n    const hasClass = typeof addBool === 'boolean'\r\n      ? addBool\r\n      : e.classList.contains(className)\r\n\r\n    if (hasClass)\r\n      e.classList.remove(className)\r\n    else\r\n      e.classList.add(className)\r\n\r\n    return !hasClass\r\n  })\r\n}\r\n\r\nexport const removeByIndex = (arr, index) =>\r\n  [\r\n    ...arr.slice(0, index),\r\n    ...arr.slice(index + 1)\r\n  ]\r\n\r\nexport function debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function () {\r\n    var context = this, args = arguments;\r\n    var later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};","import { Dispatcher } from 'flux'\r\n\r\nconst dispatcher = new Dispatcher()\r\nexport default dispatcher\r\n\r\n\r\n\r\n","\r\nconst EVENTS = {\r\n  GET_POSTS: 'GET_POSTS',\r\n  MORE_POSTS: 'MORE_POSTS',\r\n  NEW_POST: 'NEW_POST',\r\n  DELETE_POST: 'DELETE_POST',\r\n  LIKE: 'LIKE',\r\n  THEME_CHANGE: 'THEME_CHANGE',\r\n  LOADING: event => `LOADING_${event}`\r\n}\r\n\r\nexport default EVENTS","import dispatcher from \"../Dispatcher\"\r\nimport EVENTS from '../events'\r\n\r\nexport const themeChange = () => dispatcher.dispatch({ type: EVENTS.THEME_CHANGE })","import dispatcher from \"../Dispatcher\"\r\nimport EVENTS from \"../events\"\r\nimport { EventEmitter } from \"events\"\r\n\r\nconst generalEmitter = new EventEmitter()\r\n\r\nexport function general({ type, payload } = {}) {\r\n\r\n  switch (type) {\r\n    case EVENTS.THEME_CHANGE:\r\n      generalEmitter.emit(type)\r\n      break\r\n\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\nexport default generalEmitter\r\n\r\ndispatcher.register(general)","import dispatcher from '../Dispatcher'\r\nimport EVENTS from '../events'\r\n\r\nexport const likePost = payload =>\r\n  dispatcher.dispatch({ type: EVENTS.LIKE, payload })\r\n\r\nexport const newPost = payload =>\r\n  dispatcher.dispatch({ type: EVENTS.NEW_POST, payload })\r\n\r\nexport const deletePost = payload =>\r\n  dispatcher.dispatch({ type: EVENTS.DELETE_POST, payload })\r\n","import React from 'react'\r\nimport { toggleClass } from '../helpers'\r\nimport { themeChange } from '../actions/general'\r\nimport generalEmitter from '../stores/general'\r\nimport EVENTS from '../events'\r\nimport { newPost } from '../actions/postActions'\r\n\r\nexport class Buttons extends React.Component {\r\n\r\n  _btn = React.createRef()\r\n  state = {\r\n    dark: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    generalEmitter.on(EVENTS.THEME_CHANGE, () => this._click())\r\n  }\r\n\r\n  _click = () => {\r\n    const { current: btn } = this._btn\r\n    const [text, ball] = btn.children\r\n    const [dark] = toggleClass([text, ball], 'active')\r\n\r\n    this.setState({ dark })\r\n    this._changeTheme(dark)\r\n    window.localStorage.setItem('DARK_THEME', dark)\r\n  }\r\n\r\n  _changeTheme(removeDark) {\r\n    // TEMPORARIO?\r\n    // POSSIVEL FIX: ADICIONAR CLASSE .DARKABLE EM ELEMENTOS?\r\n    // POSSIVEL FIX: EMITIR EVENTO PARA APP.JSX, SELECIONAR ELEMENTOS COM .DARKABLE LA?\r\n    const TEMP_ALL = Array.from(document.body.querySelectorAll('*:not(script)'))\r\n    toggleClass(TEMP_ALL, 'dark', !removeDark)\r\n  }\r\n\r\n\r\n  newPost = () => {\r\n    const url = prompt('Digite a URL')\r\n    newPost(url)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"buttons\">\r\n        <div className=\"add\" onClick={this.newPost}>Add News +</div>\r\n        <div className=\"theme-btn\" onClick={themeChange}>\r\n          <div className='button' ref={this._btn}>\r\n            <div className=\"text\">\r\n              {this.state.dark ? 'DARK' : 'LIGHT'}\r\n            </div>\r\n            <div className=\"ball\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React from 'react'\r\nimport { Buttons } from './Buttons'\r\n\r\nexport class Header extends React.Component {\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className='header'>\r\n\r\n        <Buttons />\r\n\r\n        <div className='heading'>\r\n          <h3 className='news'>NEWS</h3>\r\n          <div className='line'></div>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import dispatcher from '../Dispatcher'\r\nimport axios from 'axios'\r\nimport { EventEmitter } from 'events'\r\nimport EVENTS from '../events'\r\n\r\nconst headers = {\r\n  'Content-Type': 'application/json',\r\n  'X-Requested-With': 'XMLHttpRequest'\r\n}\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3001/',\r\n  headers\r\n})\r\n\r\nconst handleError = (...args) => {\r\n  console.error(args)\r\n  alert('Houve algum erro')\r\n}\r\n\r\nconst makePost = ({ title, description, site_name, image, link }) => ({\r\n  title: title,\r\n  description: description,\r\n  site_name: site_name || 'Não Fornecido',\r\n  image,\r\n  link,\r\n})\r\n\r\n\r\n\r\nclass PostStore extends EventEmitter {\r\n\r\n  constructor() {\r\n    super()\r\n    this.data = {\r\n      posts: [],\r\n      top5: [],\r\n    }\r\n    this.likedPosts = JSON.parse(window.localStorage.getItem('LIKED_POSTS')) || []\r\n    this.limit = 0\r\n\r\n    console.log(this)\r\n  }\r\n\r\n  _newPost = async url => {\r\n    this.emit(EVENTS.LOADING(EVENTS.NEW_POST), true)\r\n\r\n    const post = await this.getMetaData(url)\r\n    console.log(post)\r\n\r\n    api\r\n      .post('posts', post)\r\n      // a api retorna o post adicionado\r\n      // estou buscando todos os posts denovo só para nao ter que recalcular os top5 denovo\r\n      // ou fazer uma \r\n      .then(a => {\r\n        console.log(a)\r\n        this.getPosts()\r\n      })\r\n      .catch(handleError)\r\n      .finally(() => {\r\n        this.emit(EVENTS.LOADING(EVENTS.NEW_POST), false)\r\n      })\r\n  }\r\n\r\n  _deletePost = async id => {\r\n    this.emit(EVENTS.LOADING(EVENTS.DELETE_POST), true)\r\n\r\n    api\r\n      .delete(`posts/${id}`)\r\n      .then(() => {\r\n        this.getPosts()\r\n      })\r\n      .catch(handleError)\r\n      .finally(() => {\r\n        this.emit(EVENTS.LOADING(EVENTS.DELETE_POST), false)\r\n      })\r\n  }\r\n\r\n  getMetaData(url) {\r\n    return axios\r\n      .get(`https://cors-anywhere.herokuapp.com/${url}`, { headers })\r\n      .then(({ data }) => {\r\n        const el = document.createElement('html')\r\n        el.innerHTML = data\r\n\r\n        const obj = {\r\n          link: url\r\n        }\r\n\r\n        Array\r\n          .from(el.querySelectorAll('meta'))\r\n          .map(meta => {\r\n            const { content } = meta\r\n\r\n            return {\r\n              name: meta.getAttribute('property'),\r\n              content\r\n            }\r\n          })\r\n          .filter(a => a.name && a.name.match(/og:.+/))\r\n          .map(meta => {\r\n            const name = meta.name.replace('og:', '')\r\n\r\n            return obj[name] = meta.content\r\n          })\r\n\r\n        return makePost(obj)\r\n      })\r\n      .catch(handleError)\r\n  }\r\n\r\n  getMorePosts() {\r\n    this.emit(EVENTS.LOADING(EVENTS.MORE_POSTS), true)\r\n\r\n    return api\r\n      .get(`posts?limit=${++this.limit}`)\r\n      .then(rs => {\r\n        console.log('Recebendo mais posts...', rs.data.posts)\r\n        this.data.posts = [...this.data.posts, ...rs.data.posts]\r\n        this.emit(EVENTS.MORE_POSTS, this.data)\r\n\r\n        return rs\r\n      })\r\n      .catch(handleError)\r\n      .finally(() => {\r\n        this.emit(EVENTS.LOADING(EVENTS.MORE_POSTS), false)\r\n      })\r\n  }\r\n\r\n  getPosts() {\r\n    this.emit(EVENTS.LOADING(EVENTS.GET_POSTS), true)\r\n\r\n    api\r\n      .get(`posts`)\r\n      .then(posts => {\r\n        this.data = posts.data\r\n        this.emit(EVENTS.GET_POSTS, this.data)\r\n      })\r\n      .catch(handleError)\r\n      .finally(() => {\r\n        this.emit(EVENTS.LOADING(EVENTS.GET_POSTS), false)\r\n      })\r\n\r\n    return this.data.posts\r\n  }\r\n\r\n  checkIfLiked = id => this.likedPosts.includes(id)\r\n\r\n  like(id) {\r\n    const alreadyLiked = this.checkIfLiked(id)\r\n\r\n    if (alreadyLiked) {\r\n      this.likedPosts = this.likedPosts.filter(p => p !== id)\r\n\r\n      api\r\n        .delete(`like/${id}`)\r\n        .then(({ data }) => this._replacePost(data))\r\n        .catch(handleError)\r\n        \r\n    } else {\r\n\r\n      api\r\n        .get(`like/${id}`)\r\n        .then(({ data }) => this._replacePost(data))\r\n        .catch(handleError)\r\n        \r\n\r\n      this.likedPosts.push(id)\r\n    }\r\n\r\n    window.localStorage.setItem('LIKED_POSTS', JSON.stringify(this.likedPosts))\r\n  }\r\n\r\n  _replacePost(post) {\r\n    this.data.posts = this.data.posts.map(p => {\r\n      if (post.id === p.id)\r\n        return post\r\n      else\r\n        return p\r\n    })\r\n\r\n    this.emit(EVENTS.GET_POSTS, this.data)\r\n  }\r\n\r\n  /**\r\n   * @type { (action: {type: string, payload: any}) => void}\r\n   */\r\n  handleActions = ({ type, payload }) => {\r\n    console.log('action', { type, payload })\r\n\r\n    switch (type) {\r\n      case EVENTS.LIKE:\r\n        this.like(payload.id)\r\n        break\r\n      case EVENTS.NEW_POST:\r\n        this._newPost(payload)\r\n        break\r\n      case EVENTS.DELETE_POST:\r\n        this._deletePost(payload.id)\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n  }\r\n}\r\n\r\nexport const postStore = new PostStore()\r\n\r\ndispatcher.register(postStore.handleActions)","\r\nimport React from 'react'\r\nimport { postStore } from '../stores/PostStore'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport class PostImage extends React.Component {\r\n\r\n\r\n  _like = e => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    this.props.onLike()\r\n  }\r\n\r\n  _delete = e => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    this.props.onDelete()\r\n  }\r\n\r\n  render() {\r\n    const alreadyLiked = postStore.checkIfLiked(this.props.post.id)\r\n    const likeClass = alreadyLiked ? 'liked' : ''\r\n    const style = {\r\n      backgroundImage: `url('${this.props.post.image || 'https://via.placeholder.com/320'}')`\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className='img'\r\n        hidden={this.props.hidden}\r\n        style={style}\r\n      >\r\n\r\n        <div className='likes delete' hidden={this.props.simple} onClick={this._delete}>\r\n          <div className='icon'>\r\n            <FontAwesomeIcon icon=\"trash-alt\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className={`likes ${likeClass} like`} hidden={this.props.simple} onClick={this._like}>\r\n          <div className='icon'>\r\n            <FontAwesomeIcon icon=\"heart\" />\r\n          </div>\r\n          <div className='count'>\r\n            <b>\r\n              {this.props.post.count}\r\n            </b>\r\n          </div>\r\n        </div>\r\n      </div >\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","\r\nimport React from 'react'\r\nimport { PostImage } from './PostImage'\r\nimport { likePost, deletePost } from './../actions/postActions'\r\nimport { timeAgo } from '../helpers'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport class Post extends React.Component {\r\n\r\n  click = () => {\r\n    window.open(this.props.data.link)\r\n  }\r\n\r\n  _like = () => likePost(this.props.data)\r\n  _delete = () => deletePost(this.props.data)\r\n\r\n  render() {\r\n    const simple = !!this.props.simple\r\n    const simpleClass = simple ? 'simple' : ''\r\n    const mobile = this.props.mobile && simple\r\n\r\n    return (\r\n      <div\r\n        className={`post ${simpleClass}`}\r\n        onClick={this.click}\r\n        post-id={this.props.data.id}\r\n      >\r\n        <PostImage\r\n          onLike={this._like}\r\n          onDelete={this._delete}\r\n          post={this.props.data}\r\n          simple={simple}\r\n        />\r\n\r\n        <div className=\"body\">\r\n          <h4 className=\"header\" hidden={mobile}>\r\n            {this.props.data.title}\r\n          </h4>\r\n\r\n          <p className=\"description\">\r\n            {this.props.data.description}\r\n          </p>\r\n\r\n          <div className=\"footer\">\r\n\r\n            <div hidden={mobile || simple}>\r\n              <FontAwesomeIcon icon='globe' />\r\n              <span>{this.props.data.site_name}</span>\r\n            </div>\r\n\r\n            <div hidden={simple && !mobile}>\r\n              <FontAwesomeIcon icon='clock' />\r\n              <span>{timeAgo(new Date(this.props.data.date))}</span>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","import { EventEmitter } from \"events\"\r\nimport { isMobile } from \"../helpers\"\r\n\r\nclass MobileStore extends EventEmitter {\r\n\r\n  constructor() {\r\n    super()\r\n\r\n    this.isMobile = isMobile()\r\n\r\n    window.addEventListener('resize', () => {\r\n      this.isMobile = isMobile()\r\n\r\n      this.emit('resize', this.isMobile)\r\n    })\r\n\r\n    console.log(this)\r\n  }\r\n\r\n  /**\r\n   * @type { (isMobile: boolean) => void }\r\n   */\r\n  onResize = (cb) => this.on('resize', cb)\r\n\r\n  offResize = (cb) => this.off('resize', cb)\r\n}\r\n\r\n\r\nexport const mobileStore = new MobileStore()","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport class Loading extends React.Component {\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"loading\" hidden={this.props.hidden}>\r\n        <FontAwesomeIcon icon='sync-alt' />\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React from 'react'\r\nimport { Post } from './Post'\r\n\r\nimport TinySlider from \"tiny-slider-react\"\r\nimport { postStore } from '../stores/PostStore'\r\nimport { mobileStore } from '../stores/MobileStore'\r\nimport { Loading } from './Loading'\r\nimport { debounce } from '../helpers'\r\nimport EVENTS from '../events';\r\n\r\nconst settings = {\r\n  slideBy: \"page\",\r\n  mouseDrag: true,\r\n  controls: false,\r\n  nav: true,\r\n  loop: false\r\n}\r\n\r\nexport class Posts extends React.Component {\r\n\r\n  ts = React.createRef()\r\n  morePostsLock = false\r\n\r\n  state = {\r\n    mobile: mobileStore.isMobile,\r\n    loading: false\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this._infiniteScrollListen()\r\n  }\r\n\r\n  componentWillMount() {\r\n    postStore.on(EVENTS.LOADING(EVENTS.MORE_POSTS), loading => {\r\n      this.setState({ loading })\r\n    })\r\n\r\n    mobileStore.onResize(this._onResize)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    mobileStore.onResize(this._onResize)\r\n  }\r\n\r\n  _onResize = mobile => this.setState({ mobile })\r\n\r\n  _checkSliderMorePosts = () => {\r\n    const obj = this.ts.current.slider.getInfo()\r\n    const { navCurrentIndex, slideCount } = obj\r\n\r\n    if (navCurrentIndex >= slideCount - 1) {\r\n      postStore\r\n        .getMorePosts()\r\n        .then(() => {\r\n          this.ts.current.slider.goTo(navCurrentIndex)\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  _infiniteScrollListen() {\r\n    const offset = 900\r\n    const scroll = this._onScroll(offset)\r\n\r\n    let scrollIsOn = true\r\n\r\n    const onScrollDebounce = debounce(scroll, 100)\r\n\r\n    window.addEventListener('scroll', onScrollDebounce)\r\n\r\n    mobileStore.onResize(mobile => {\r\n\r\n      if (mobile && !scrollIsOn) {\r\n        window.addEventListener('scroll', onScrollDebounce)\r\n\r\n      } else if (!mobile && scrollIsOn) {\r\n        window.removeEventListener('scroll', onScrollDebounce)\r\n\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  _onScroll = (offset) => () => {\r\n    const scroll = window.scrollY + window.outerHeight + offset\r\n    const height = document.body.scrollHeight\r\n\r\n    if (scroll >= height && !this.morePostsLock && !this.state.mobile) {\r\n      console.log('More posts...')\r\n      this.morePostsLock = true\r\n\r\n      postStore.getMorePosts()\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const postsArr = this.props\r\n      .posts.map(data =>\r\n        <Post mobile={this.state.mobile} key={data.id} data={data} />\r\n      )\r\n\r\n    const posts = this.state.mobile\r\n      ? this._renderMobile(postsArr)\r\n      : postsArr\r\n\r\n    return (\r\n      <div>\r\n        <div className={`posts ${this.state.mobile ? 'mobile' : ''}`}>\r\n          {posts}\r\n        </div>\r\n\r\n        <Loading hidden={!this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  _renderMobile(posts) {\r\n    return (\r\n      <TinySlider onTransitionStart={this._checkSliderMorePosts} settings={settings} ref={this.ts}>\r\n        {posts}\r\n      </TinySlider>\r\n    )\r\n  }\r\n\r\n}","import React from 'react'\r\nimport { Post } from './Post'\r\n\r\nexport class Sidebar extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"sidebar\">\r\n        {this.props.posts.map(data =>\r\n          <Post\r\n            simple={true}\r\n            key={data.id}\r\n            data={data}\r\n          />\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React, { Component } from 'react'\r\nimport { Header } from './components/Header'\r\nimport { Posts } from './components/Posts'\r\nimport { Sidebar } from './components/Sidebar'\r\nimport { postStore } from './stores/PostStore'\r\nimport EVENTS from './events'\r\nimport { themeChange } from './actions/general'\r\nimport { Loading } from './components/Loading'\r\n\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n    posts: postStore.getPosts(),\r\n    top5: []\r\n  }\r\n\r\n  componentWillMount() {\r\n    postStore.on(EVENTS.GET_POSTS, this._updatePosts)\r\n    postStore.on(EVENTS.MORE_POSTS, this._updatePosts)\r\n    postStore.on(EVENTS.LOADING(EVENTS.NEW_POST), loading => this.setState({ loading }))\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    postStore.off(EVENTS.GET_POSTS, this._updatePosts)\r\n    postStore.off(EVENTS.MORE_POSTS, this._updatePosts)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const darkTheme = window.localStorage.getItem('DARK_THEME') === 'true'\r\n    if (darkTheme) themeChange()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"main-wrapper\">\r\n          <div className='main'>\r\n            <Header />\r\n            <Loading hidden={!this.state.loading} />\r\n            <Posts posts={this.state.posts} />\r\n          </div>\r\n\r\n          <Sidebar posts={this.state.top5} />\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  _updatePosts = ({ posts, top5 }) => {\r\n\r\n    this.setState({\r\n      posts,\r\n      top5,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport default App\r\n","\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faHeart, faTrashAlt, faGlobe, faClock, faSyncAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.scss'\r\nimport App from './App'\r\n\r\nlibrary.add(faHeart, faTrashAlt, faGlobe, faClock, faSyncAlt)\r\nReactDOM.render(<App />, document.querySelector('#root'))\r\n\r\n"],"sourceRoot":""}
{"version":3,"sources":["helpers.jsx","components/ThemeBtn.jsx","components/Header.jsx","stores/MobileStore.jsx","components/PostImage.jsx","components/Post.jsx","components/Posts.jsx","components/Sidebar.jsx","Dispatcher.jsx","stores/PostStore.jsx","App.jsx","index.jsx"],"names":["isMobile","window","innerWidth","toggleClass","el","className","Array","isArray","map","e","hasClass","classList","contains","remove","add","ThemeBtn","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","_btn","React","createRef","state","active","_click","btn","current","_btn$children","slicedToArray","children","text","ball","_toggleClass","setState","TEMP_ALL","from","document","body","querySelectorAll","inherits","createClass","key","value","react_default","a","createElement","onClick","ref","Component","Header","ThemeBtn_ThemeBtn","mobileStore","MobileStore","onResize","cb","on","addEventListener","emit","EventEmitter","PostImage","hidden","props","src","alt","simple","likes","Post","mobile","_this2","simpleClass","imageAfter","PostImage_PostImage","count","title","author","date","Posts","slider","sliderOn","_handleSliderInstantiation","rebuild","destroy","tns","container","items","slideBy","mouseDrag","controls","nav","navPosition","posts","data","i","Post_Post","assign","Sidebar","dispatcher","Dispatcher","console","log","api","axios","create","baseURL","EVENTS","postStore","PostStore","_onScroll","offset","scrollY","outerHeight","scrollHeight","morePostsLock","getMorePosts","limit","handleActions","action","top5","_infiniteScroll","assertThisInitialized","scroll","get","then","toConsumableArray","_this3","register","App","getPosts","_updatePosts","_ref","Header_Header","Posts_Posts","Sidebar_Sidebar","ReactDOM","render","src_App","querySelector"],"mappings":"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","file":"static/js/main.7b40ec13.chunk.js","sourcesContent":["export const isMobile = () => window.innerWidth < 767\r\n\r\n/**\r\n * @param { HTMLElement[] } el\r\n * @param { string } class\r\n */\r\nexport const toggleClass = (el, className) => {\r\n  const element = !Array.isArray(el) ? [el] : el\r\n\r\n  return element.map(e => {\r\n    const hasClass = e.classList.contains(className)\r\n\r\n    if (hasClass)\r\n      e.classList.remove(className)\r\n    else\r\n      e.classList.add(className)\r\n\r\n    return !hasClass\r\n  })\r\n}","import React from 'react'\r\nimport { toggleClass } from '../helpers';\r\n\r\nexport class ThemeBtn extends React.Component {\r\n\r\n  _btn = React.createRef()\r\n  state = {\r\n    active: false\r\n  }\r\n\r\n  _click = () => {\r\n    const { current: btn } = this._btn\r\n    const [text, ball] = btn.children\r\n\r\n    const [active] = toggleClass([text, ball], 'active')\r\n    this.setState({ active })\r\n\r\n    // TEMPORARIO?\r\n    // POSSIBLE FIX: ADICIONAR CLASSE .DARKABLE EM ELEMENTOS?\r\n    // POSSIBLE FIX: EMITIR EVENTO PARA APP.JSX, SELECIONAR ELEMENTOS COM .DARKABLE LA?\r\n    const TEMP_ALL = Array.from(document.body.querySelectorAll('*'))\r\n    toggleClass(TEMP_ALL, 'dark')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"theme-btn\" onClick={this._click}>\r\n        <div className='button' ref={this._btn}>\r\n          <div className=\"text\">\r\n            {this.state.active ? 'DARK' : 'LIGHT'}\r\n          </div>\r\n          <div className=\"ball\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React from 'react'\r\nimport { ThemeBtn } from './ThemeBtn'\r\n\r\nexport class Header extends React.Component {\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className='header'>\r\n\r\n        <ThemeBtn />\r\n\r\n        <div className='heading'>\r\n          <h3 className='news'>NEWS</h3>\r\n          <div className='line'></div>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import { EventEmitter } from \"events\"\r\nimport { isMobile } from \"../helpers\"\r\n\r\n\r\nclass MobileStore extends EventEmitter {\r\n\r\n  constructor() {\r\n    super()\r\n\r\n    this.isMobile = isMobile()\r\n\r\n    window.addEventListener('resize', () => {\r\n      this.isMobile = isMobile()\r\n\r\n      this.emit('resize', this.isMobile)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @type { (isMobile: boolean) => void }\r\n   */\r\n  onResize = (cb) => this.on('resize', cb)\r\n}\r\n\r\n\r\nexport const mobileStore = new MobileStore()","\r\nimport React from 'react'\r\n\r\nexport class PostImage extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"img\" hidden={this.props.hidden}>\r\n        <img src=\"https://via.placeholder.com/320\" alt=\"\" />\r\n\r\n        <div className=\"likes\" hidden={this.props.simple}>\r\n          <div className=\"icon\"><i className=\"fi fi-heart\"></i></div>\r\n          <div className=\"count\">{this.props.likes}</div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","\r\nimport React from 'react'\r\nimport { mobileStore } from '../stores/MobileStore'\r\nimport { PostImage } from './PostImage';\r\n\r\nexport class Post extends React.Component {\r\n\r\n  state = {\r\n    mobile: mobileStore.isMobile\r\n  }\r\n\r\n  componentDidMount() {\r\n    mobileStore.onResize(mobile => {\r\n      this.setState({ mobile })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const simple = !!this.props.simple\r\n    const simpleClass = simple ? 'simple' : ''\r\n    const imageAfter = this.state.mobile && simple\r\n\r\n    return (\r\n      <div className={`post ${simpleClass}`}>\r\n        <PostImage likes={this.props.count} simple={simple} />\r\n\r\n        <div className=\"body\">\r\n          <h4 className=\"header\" hidden={imageAfter}>{this.props.title}</h4>\r\n\r\n          <p className=\"description\">{this.props.body}</p>\r\n\r\n          <div className=\"footer\">\r\n            <div hidden={imageAfter || simple}>\r\n              <i className=\"fi fi-earth icon-margin\"></i>\r\n              <span>{this.props.author}</span>\r\n            </div>\r\n            <div hidden={simple && !imageAfter}>\r\n              <i className=\"fi fi-clock icon-margin\"></i>\r\n              <span>{this.props.date}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","import React from 'react'\r\nimport { Post } from './Post';\r\n\r\nimport { tns } from \"tiny-slider/src/tiny-slider\"\r\nimport { mobileStore } from '../stores/MobileStore';\r\n\r\nexport class Posts extends React.Component {\r\n\r\n  slider = null\r\n  sliderOn = mobileStore.isMobile\r\n\r\n  componentDidMount() {\r\n    this._handleSliderInstantiation(mobileStore.isMobile)\r\n\r\n    mobileStore.onResize(mobile => {\r\n\r\n      this._handleSliderInstantiation(mobile)\r\n\r\n      let { sliderOn } = this\r\n\r\n      if (mobile && !sliderOn && this.slider) {\r\n        sliderOn = true\r\n        this.slider = this.slider.rebuild()\r\n      }\r\n\r\n      if (!mobile && sliderOn && this.slider.destroy) {\r\n        sliderOn = false\r\n        this.slider.destroy()\r\n      }\r\n\r\n      this.sliderOn = sliderOn\r\n    })\r\n  }\r\n\r\n\r\n  _handleSliderInstantiation(mobile) {\r\n    if (this.slider || !mobile) return\r\n\r\n    this.sliderOn = true\r\n    this.slider = tns({\r\n      container: \".posts\",\r\n      items: 1,\r\n      slideBy: \"page\",\r\n      mouseDrag: true,\r\n      controls: false,\r\n      nav: true,\r\n      navPosition: 'bottom'\r\n    })\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"posts\">\r\n        {this.props.posts.map((data, i) =>\r\n          <Post key={i} {...data} />\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React from 'react'\r\nimport { Post } from './Post'\r\n\r\nexport class Sidebar extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"sidebar\">\r\n        {this.props.posts.map((data, i) =>\r\n          <Post key={i} simple={true} {...data} />\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import { Dispatcher } from 'flux'\r\n\r\nconst dispatcher = new Dispatcher()\r\nconsole.log(dispatcher)\r\nexport default dispatcher","import dispatcher from '../Dispatcher'\r\nimport axios from 'axios'\r\nimport { EventEmitter } from 'events';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3001/'\r\n});\r\n\r\nexport const EVENTS = {\r\n  NEW_POSTS: 'NEW_POSTS',\r\n}\r\n\r\nclass PostStore extends EventEmitter {\r\n\r\n  _onScroll = (offset) => () => {\r\n    const scroll = window.scrollY + window.outerHeight + offset\r\n    const height = document.body.scrollHeight\r\n\r\n    if (scroll >= height && !this.morePostsLock) {\r\n      this.morePostsLock = true\r\n      this.getMorePosts(++this.limit)\r\n    }\r\n  }\r\n\r\n  constructor() {\r\n    super()\r\n    this.data = {\r\n      posts: [],\r\n      top5: []\r\n    }\r\n    this.limit = 1\r\n    this.morePostsLock = false\r\n\r\n    this._infiniteScroll()\r\n\r\n    console.log(this)\r\n  }\r\n\r\n  _infiniteScroll() {\r\n    const offset = 100\r\n    const scroll = this._onScroll(offset)\r\n\r\n    window.addEventListener('scroll', scroll)\r\n  }\r\n\r\n  getMorePosts(limit) {\r\n    api\r\n      .get(`posts?limit=${limit}`)\r\n      .then(posts => {\r\n        this.data.posts = [...this.data.posts, ...posts.data.posts]\r\n        this.emit(EVENTS.NEW_POSTS, this.data)\r\n        this.morePostsLock = false\r\n      })\r\n\r\n    return this.data.posts\r\n  }\r\n\r\n  getPosts() {\r\n    api\r\n      .get(`posts`)\r\n      .then(posts => {\r\n        this.data = posts.data\r\n        this.emit(EVENTS.NEW_POSTS, this.data)\r\n      })\r\n\r\n    return this.data.posts\r\n  }\r\n\r\n  handleActions = action => {\r\n    console.log('action', action)\r\n  }\r\n}\r\n\r\nexport const postStore = new PostStore()\r\n\r\ndispatcher.register(postStore.handleActions)","import React, { Component } from 'react'\nimport { Header } from './components/Header'\nimport { Posts } from './components/Posts'\nimport { Sidebar } from './components/Sidebar'\nimport { postStore, EVENTS } from './stores/PostStore'\n\n\nclass App extends Component {\n\n  state = {\n    posts: postStore.getPosts(),\n    top5: []\n  }\n\n  componentWillMount() {\n    postStore.on(EVENTS.NEW_POSTS, this._updatePosts)\n  }\n\n  render() {\n    console.log(this.state)\n\n    return (\n      <div className=\"App\">\n\n        <div className=\"main-wrapper\">\n          <div className='main'>\n            <Header />\n            <Posts posts={this.state.posts} />\n          </div>\n\n          <Sidebar posts={this.state.top5} />\n        </div>\n\n      </div>\n    )\n  }\n\n  _updatePosts = ({ posts, top5 }) => this.setState({ posts, top5 })\n\n}\n\nexport default App\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.scss'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'))\r\n\r\n"],"sourceRoot":""}
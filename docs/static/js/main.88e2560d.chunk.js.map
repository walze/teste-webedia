{"version":3,"sources":["helpers.jsx","dispatcher.jsx","events.jsx","actions/general.jsx","stores/general.jsx","actions/postActions.jsx","components/Buttons.jsx","components/Header.jsx","stores/PostStore.jsx","components/PostImage.jsx","components/Post.jsx","stores/MobileStore.jsx","components/Loading.jsx","components/Posts.jsx","components/Sidebar.jsx","App.jsx","index.jsx"],"names":["isMobile","window","innerWidth","toggleClass","el","className","addBool","Array","isArray","map","e","hasClass","classList","contains","remove","add","dispatcher","Dispatcher","EVENTS","GET_POSTS","MORE_POSTS","NEW_POST","DELETE_POST","LIKE","THEME_CHANGE","LOADING","event","concat","themeChange","dispatch","type","generalEmitter","EventEmitter","register","_ref","arguments","length","undefined","payload","emit","likePost","newPost","deletePost","Buttons","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","args","_key","possibleConstructorReturn","getPrototypeOf","call","apply","_btn","React","createRef","state","dark","_click","btn","current","_btn$children","slicedToArray","children","text","ball","_toggleClass","setState","_changeTheme","localStorage","setItem","url","prompt","inherits","createClass","key","value","_this2","on","removeDark","TEMP_ALL","from","document","body","querySelectorAll","react_default","a","createElement","onClick","ref","Component","Header","Buttons_Buttons","headers","Content-Type","X-Requested-With","api","axios","create","baseURL","handleError","console","error","alert","postStore","PostStore","_newPost","_ref2","asyncToGenerator","regenerator_default","mark","_callee","post","wrap","_context","prev","next","getMetaData","sent","log","then","getPosts","catch","stop","_x","_deletePost","_ref3","_callee2","id","_context2","delete","_x2","checkIfLiked","likedPosts","includes","handleActions","_ref4","like","data","posts","top5","JSON","parse","getItem","limit","assertThisInitialized","get","_ref5","innerHTML","obj","link","meta","content","name","getAttribute","filter","match","replace","title","description","site_name","image","rs","toConsumableArray","_this3","_this4","p","_ref6","_replacePost","_ref7","push","stringify","PostImage","_like","preventDefault","stopPropagation","props","onLike","_delete","onDelete","likeClass","style","backgroundImage","hidden","simple","react_fontawesome_index_es","icon","count","Post","click","open","simpleClass","mobile","post-id","PostImage_PostImage","date","time","Date","getTime","Math","round","timeAgo","mobileStore","MobileStore","onResize","cb","offResize","off","addEventListener","Loading","settings","slideBy","mouseDrag","controls","nav","loop","Posts","ts","morePostsLock","loading","_onResize","_checkSliderMorePosts","slider","getInfo","navCurrentIndex","slideCount","getMorePosts","goTo","_onScroll","offset","scrollY","outerHeight","scrollHeight","_infiniteScrollListen","scroll","onScrollDebounce","func","wait","immediate","timeout","context","callNow","clearTimeout","setTimeout","debounce","removeEventListener","postsArr","Post_Post","_renderMobile","Loading_Loading","build_default","onTransitionStart","Sidebar","App","_updatePosts","Header_Header","Posts_Posts","Sidebar_Sidebar","library","faHeart","faTrashAlt","faGlobe","faClock","faSyncAlt","ReactDOM","render","src_App","querySelector"],"mappings":"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","file":"static/js/main.88e2560d.chunk.js","sourcesContent":["export const timeAgo = date => {\r\n  const diff = new Date().getTime() - date.getTime()\r\n  let time = diff / 1000 / 60 / 60\r\n\r\n  return time < 1\r\n    ? Math.round(time * 60) + ' mins ago'\r\n    : Math.round(time) + ' hours ago'\r\n}\r\n\r\nexport const isMobile = () => window.innerWidth < 767\r\n\r\n/**\r\n * @param { HTMLElement[] } el\r\n * @param { string } class\r\n */\r\nexport const toggleClass = (el, className, addBool) => {\r\n  const element = !Array.isArray(el) ? [el] : el\r\n\r\n  return element.map(e => {\r\n    const hasClass = typeof addBool === 'boolean'\r\n      ? addBool\r\n      : e.classList.contains(className)\r\n\r\n    if (hasClass)\r\n      e.classList.remove(className)\r\n    else\r\n      e.classList.add(className)\r\n\r\n    return !hasClass\r\n  })\r\n}\r\n\r\nexport const removeByIndex = (arr, index) =>\r\n  [\r\n    ...arr.slice(0, index),\r\n    ...arr.slice(index + 1)\r\n  ]\r\n\r\nexport function debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function () {\r\n    var context = this, args = arguments;\r\n    var later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};","import { Dispatcher } from 'flux'\r\n\r\nconst dispatcher = new Dispatcher()\r\nexport default dispatcher\r\n\r\n\r\n\r\n","\r\nconst EVENTS = {\r\n  GET_POSTS: 'GET_POSTS',\r\n  MORE_POSTS: 'MORE_POSTS',\r\n  NEW_POST: 'NEW_POST',\r\n  DELETE_POST: 'DELETE_POST',\r\n  LIKE: 'LIKE',\r\n  THEME_CHANGE: 'THEME_CHANGE',\r\n  LOADING: event => `LOADING_${event}`\r\n}\r\n\r\nexport default EVENTS","import dispatcher from \"../dispatcher\"\r\nimport EVENTS from '../events'\r\n\r\nexport const themeChange = () => dispatcher.dispatch({ type: EVENTS.THEME_CHANGE })","import dispatcher from \"../dispatcher\"\r\nimport EVENTS from \"../events\"\r\nimport { EventEmitter } from \"events\"\r\n\r\nconst generalEmitter = new EventEmitter()\r\n\r\nexport function general({ type, payload } = {}) {\r\n\r\n  switch (type) {\r\n    case EVENTS.THEME_CHANGE:\r\n      generalEmitter.emit(type)\r\n      break\r\n\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\nexport default generalEmitter\r\n\r\ndispatcher.register(general)","import dispatcher from '../dispatcher'\r\nimport EVENTS from '../events'\r\n\r\nexport const likePost = payload =>\r\n  dispatcher.dispatch({ type: EVENTS.LIKE, payload })\r\n\r\nexport const newPost = payload =>\r\n  dispatcher.dispatch({ type: EVENTS.NEW_POST, payload })\r\n\r\nexport const deletePost = payload =>\r\n  dispatcher.dispatch({ type: EVENTS.DELETE_POST, payload })\r\n","import React from 'react'\r\nimport { toggleClass } from '../helpers'\r\nimport { themeChange } from '../actions/general'\r\nimport generalEmitter from '../stores/general'\r\nimport EVENTS from '../events'\r\nimport { newPost } from '../actions/postActions'\r\n\r\nexport class Buttons extends React.Component {\r\n\r\n  _btn = React.createRef()\r\n  state = {\r\n    dark: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    generalEmitter.on(EVENTS.THEME_CHANGE, () => this._click())\r\n  }\r\n\r\n  _click = () => {\r\n    const { current: btn } = this._btn\r\n    const [text, ball] = btn.children\r\n    const [dark] = toggleClass([text, ball], 'active')\r\n\r\n    this.setState({ dark })\r\n    this._changeTheme(dark)\r\n    window.localStorage.setItem('DARK_THEME', dark)\r\n  }\r\n\r\n  _changeTheme(removeDark) {\r\n    // TEMPORARIO?\r\n    // POSSIVEL FIX: ADICIONAR CLASSE .DARKABLE EM ELEMENTOS?\r\n    // POSSIVEL FIX: EMITIR EVENTO PARA APP.JSX, SELECIONAR ELEMENTOS COM .DARKABLE LA?\r\n    const TEMP_ALL = Array.from(document.body.querySelectorAll('*:not(script)'))\r\n    toggleClass(TEMP_ALL, 'dark', !removeDark)\r\n  }\r\n\r\n\r\n  newPost = () => {\r\n    const url = prompt('Digite a URL')\r\n    newPost(url)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"buttons\">\r\n        <div className=\"add\" onClick={this.newPost}>Add News +</div>\r\n        <div className=\"theme-btn\" onClick={themeChange}>\r\n          <div className='button' ref={this._btn}>\r\n            <div className=\"text\">\r\n              {this.state.dark ? 'DARK' : 'LIGHT'}\r\n            </div>\r\n            <div className=\"ball\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React from 'react'\r\nimport { Buttons } from './Buttons'\r\n\r\nexport class Header extends React.Component {\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className='header'>\r\n\r\n        <Buttons />\r\n\r\n        <div className='heading'>\r\n          <h3 className='news'>NEWS</h3>\r\n          <div className='line'></div>\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import dispatcher from '../dispatcher'\r\nimport axios from 'axios'\r\nimport { EventEmitter } from 'events'\r\nimport EVENTS from '../events'\r\n\r\nconst headers = {\r\n  'Content-Type': 'application/json',\r\n  'X-Requested-With': 'XMLHttpRequest'\r\n}\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3001/',\r\n  headers\r\n})\r\n\r\nconst handleError = (...args) => {\r\n  console.error(args)\r\n  alert('Houve algum erro')\r\n}\r\n\r\nconst makePost = ({ title, description, site_name, image, link }) => ({\r\n  title: title,\r\n  description: description,\r\n  site_name: site_name || 'Não Fornecido',\r\n  image,\r\n  link,\r\n})\r\n\r\n\r\n\r\nclass PostStore extends EventEmitter {\r\n\r\n  constructor() {\r\n    super()\r\n    this.data = {\r\n      posts: [],\r\n      top5: [],\r\n    }\r\n    this.likedPosts = JSON.parse(window.localStorage.getItem('LIKED_POSTS')) || []\r\n    this.limit = 0\r\n\r\n    console.log(this)\r\n  }\r\n\r\n  _newPost = async url => {\r\n    this.emit(EVENTS.LOADING(EVENTS.NEW_POST), true)\r\n\r\n    const post = await this.getMetaData(url)\r\n    console.log(post)\r\n\r\n    api\r\n      .post('posts', post)\r\n      // a api retorna o post adicionado\r\n      // estou buscando todos os posts denovo só para nao ter que recalcular os top5 denovo\r\n      // ou fazer uma \r\n      .then(a => {\r\n        console.log(a)\r\n        this.getPosts()\r\n        this.emit(EVENTS.LOADING(EVENTS.NEW_POST), false)\r\n      })\r\n      .catch(handleError)\r\n  }\r\n\r\n  _deletePost = async id => {\r\n    this.emit(EVENTS.LOADING(EVENTS.DELETE_POST), true)\r\n\r\n    api\r\n      .delete(`posts/${id}`)\r\n      .then(() => {\r\n        this.getPosts()\r\n        this.emit(EVENTS.LOADING(EVENTS.DELETE_POST), false)\r\n      })\r\n      .catch(handleError)\r\n  }\r\n\r\n  getMetaData(url) {\r\n    return axios\r\n      .get(`https://cors-anywhere.herokuapp.com/${url}`, { headers })\r\n      .then(({ data }) => {\r\n        const el = document.createElement('html')\r\n        el.innerHTML = data\r\n\r\n        const obj = {\r\n          link: url\r\n        }\r\n\r\n        Array\r\n          .from(el.querySelectorAll('meta'))\r\n          .map(meta => {\r\n            const { content } = meta\r\n\r\n            return {\r\n              name: meta.getAttribute('property'),\r\n              content\r\n            }\r\n          })\r\n          .filter(a => a.name && a.name.match(/og:.+/))\r\n          .map(meta => {\r\n            const name = meta.name.replace('og:', '')\r\n\r\n            return obj[name] = meta.content\r\n          })\r\n\r\n        return makePost(obj)\r\n      })\r\n      .catch(handleError)\r\n\r\n  }\r\n\r\n  getMorePosts() {\r\n    this.emit(EVENTS.LOADING(EVENTS.MORE_POSTS), true)\r\n\r\n    return api\r\n      .get(`posts?limit=${++this.limit}`)\r\n      .then(rs => {\r\n        console.log('Recebendo mais posts...', rs.data.posts)\r\n        this.data.posts = [...this.data.posts, ...rs.data.posts]\r\n        this.emit(EVENTS.LOADING(EVENTS.MORE_POSTS), false)\r\n        this.emit(EVENTS.MORE_POSTS, this.data)\r\n\r\n        return rs\r\n      })\r\n      .catch(handleError)\r\n  }\r\n\r\n  getPosts() {\r\n    this.emit(EVENTS.LOADING(EVENTS.GET_POSTS), true)\r\n\r\n    api\r\n      .get(`posts`)\r\n      .then(posts => {\r\n        this.data = posts.data\r\n        this.emit(EVENTS.GET_POSTS, this.data)\r\n        this.emit(EVENTS.LOADING(EVENTS.GET_POSTS), false)\r\n      })\r\n      .catch(handleError)\r\n\r\n    return this.data.posts\r\n  }\r\n\r\n  checkIfLiked = id => this.likedPosts.includes(id)\r\n\r\n  like(id) {\r\n    const alreadyLiked = this.checkIfLiked(id)\r\n\r\n    if (alreadyLiked) {\r\n      this.likedPosts = this.likedPosts.filter(p => p !== id)\r\n\r\n      api\r\n        .delete(`like/${id}`)\r\n        .then(({ data }) => this._replacePost(data))\r\n        .catch(handleError)\r\n    } else {\r\n\r\n      api\r\n        .get(`like/${id}`)\r\n        .then(({ data }) => this._replacePost(data))\r\n        .catch(handleError)\r\n\r\n      this.likedPosts.push(id)\r\n    }\r\n\r\n    window.localStorage.setItem('LIKED_POSTS', JSON.stringify(this.likedPosts))\r\n  }\r\n\r\n  _replacePost(post) {\r\n    this.data.posts = this.data.posts.map(p => {\r\n      if (post.id === p.id)\r\n        return post\r\n      else\r\n        return p\r\n    })\r\n\r\n    this.emit(EVENTS.GET_POSTS, this.data)\r\n  }\r\n\r\n  /**\r\n   * @type { (action: {type: string, payload: any}) => void}\r\n   */\r\n  handleActions = ({ type, payload }) => {\r\n    console.log('action', { type, payload })\r\n\r\n    switch (type) {\r\n      case EVENTS.LIKE:\r\n        this.like(payload.id)\r\n        break\r\n      case EVENTS.NEW_POST:\r\n        this._newPost(payload)\r\n        break\r\n      case EVENTS.DELETE_POST:\r\n        this._deletePost(payload.id)\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n  }\r\n}\r\n\r\nexport const postStore = new PostStore()\r\n\r\ndispatcher.register(postStore.handleActions)","\r\nimport React from 'react'\r\nimport { postStore } from '../stores/PostStore'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport class PostImage extends React.Component {\r\n\r\n\r\n  _like = e => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    this.props.onLike()\r\n  }\r\n\r\n  _delete = e => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    this.props.onDelete()\r\n  }\r\n\r\n  render() {\r\n    const alreadyLiked = postStore.checkIfLiked(this.props.post.id)\r\n    const likeClass = alreadyLiked ? 'liked' : ''\r\n    const style = {\r\n      backgroundImage: `url('${this.props.post.image || 'https://via.placeholder.com/320'}')`\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className='img'\r\n        hidden={this.props.hidden}\r\n        style={style}\r\n      >\r\n\r\n        <div className='likes delete' hidden={this.props.simple} onClick={this._delete}>\r\n          <div className='icon'>\r\n            <FontAwesomeIcon icon=\"trash-alt\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className={`likes ${likeClass} like`} hidden={this.props.simple} onClick={this._like}>\r\n          <div className='icon'>\r\n            <FontAwesomeIcon icon=\"heart\" />\r\n          </div>\r\n          <div className='count'>\r\n            <b>\r\n              {this.props.post.count}\r\n            </b>\r\n          </div>\r\n        </div>\r\n      </div >\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","\r\nimport React from 'react'\r\nimport { PostImage } from './PostImage'\r\nimport { likePost, deletePost } from './../actions/postActions'\r\nimport { timeAgo } from '../helpers'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport class Post extends React.Component {\r\n\r\n  click = () => {\r\n    window.open(this.props.data.link)\r\n  }\r\n\r\n  _like = () => likePost(this.props.data)\r\n  _delete = () => deletePost(this.props.data)\r\n\r\n  render() {\r\n    const simple = !!this.props.simple\r\n    const simpleClass = simple ? 'simple' : ''\r\n    const mobile = this.props.mobile && simple\r\n\r\n    return (\r\n      <div\r\n        className={`post ${simpleClass}`}\r\n        onClick={this.click}\r\n        post-id={this.props.data.id}\r\n      >\r\n        <PostImage\r\n          onLike={this._like}\r\n          onDelete={this._delete}\r\n          post={this.props.data}\r\n          simple={simple}\r\n        />\r\n\r\n        <div className=\"body\">\r\n          <h4 className=\"header\" hidden={mobile}>\r\n            {this.props.data.title}\r\n          </h4>\r\n\r\n          <p className=\"description\">\r\n            {this.props.data.description}\r\n          </p>\r\n\r\n          <div className=\"footer\">\r\n\r\n            <div hidden={mobile || simple}>\r\n              <FontAwesomeIcon icon='globe' />\r\n              <span>{this.props.data.site_name}</span>\r\n            </div>\r\n\r\n            <div hidden={simple && !mobile}>\r\n              <FontAwesomeIcon icon='clock' />\r\n              <span>{timeAgo(new Date(this.props.data.date))}</span>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","import { EventEmitter } from \"events\"\r\nimport { isMobile } from \"../helpers\"\r\n\r\nclass MobileStore extends EventEmitter {\r\n\r\n  constructor() {\r\n    super()\r\n\r\n    this.isMobile = isMobile()\r\n\r\n    window.addEventListener('resize', () => {\r\n      this.isMobile = isMobile()\r\n\r\n      this.emit('resize', this.isMobile)\r\n    })\r\n\r\n    console.log(this)\r\n  }\r\n\r\n  /**\r\n   * @type { (isMobile: boolean) => void }\r\n   */\r\n  onResize = (cb) => this.on('resize', cb)\r\n\r\n  offResize = (cb) => this.off('resize', cb)\r\n}\r\n\r\n\r\nexport const mobileStore = new MobileStore()","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport class Loading extends React.Component {\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"loading\" hidden={this.props.hidden}>\r\n        <FontAwesomeIcon icon='sync-alt' />\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React from 'react'\r\nimport { Post } from './Post'\r\n\r\nimport TinySlider from \"tiny-slider-react\"\r\nimport { postStore } from '../stores/PostStore'\r\nimport { mobileStore } from '../stores/MobileStore'\r\nimport { Loading } from './Loading'\r\nimport { debounce } from '../helpers'\r\nimport EVENTS from '../events';\r\n\r\nconst settings = {\r\n  slideBy: \"page\",\r\n  mouseDrag: true,\r\n  controls: false,\r\n  nav: true,\r\n  loop: false\r\n}\r\n\r\nexport class Posts extends React.Component {\r\n\r\n  ts = React.createRef()\r\n  morePostsLock = false\r\n\r\n  state = {\r\n    mobile: mobileStore.isMobile,\r\n    loading: false\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this._infiniteScrollListen()\r\n  }\r\n\r\n  componentWillMount() {\r\n    postStore.on(EVENTS.LOADING(EVENTS.MORE_POSTS), loading => {\r\n      this.setState({ loading })\r\n    })\r\n\r\n    mobileStore.onResize(this._onResize)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    mobileStore.onResize(this._onResize)\r\n  }\r\n\r\n  _onResize = mobile => this.setState({ mobile })\r\n\r\n  _checkSliderMorePosts = () => {\r\n    const obj = this.ts.current.slider.getInfo()\r\n    const { navCurrentIndex, slideCount } = obj\r\n\r\n    if (navCurrentIndex >= slideCount - 1) {\r\n      postStore\r\n        .getMorePosts()\r\n        .then(() => {\r\n          this.ts.current.slider.goTo(navCurrentIndex)\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  _infiniteScrollListen() {\r\n    const offset = 900\r\n    const scroll = this._onScroll(offset)\r\n\r\n    let scrollIsOn = true\r\n\r\n    const onScrollDebounce = debounce(scroll, 100)\r\n\r\n    window.addEventListener('scroll', onScrollDebounce)\r\n\r\n    mobileStore.onResize(mobile => {\r\n\r\n      if (mobile && !scrollIsOn) {\r\n        window.addEventListener('scroll', onScrollDebounce)\r\n\r\n      } else if (!mobile && scrollIsOn) {\r\n        window.removeEventListener('scroll', onScrollDebounce)\r\n\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  _onScroll = (offset) => () => {\r\n    const scroll = window.scrollY + window.outerHeight + offset\r\n    const height = document.body.scrollHeight\r\n\r\n    if (scroll >= height && !this.morePostsLock) {\r\n      console.log('More posts...')\r\n      this.morePostsLock = true\r\n\r\n      postStore.getMorePosts()\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const postsArr = this.props\r\n      .posts.map(data =>\r\n        <Post mobile={this.state.mobile} key={data.id} data={data} />\r\n      )\r\n\r\n    const posts = this.state.mobile\r\n      ? this._renderMobile(postsArr)\r\n      : postsArr\r\n\r\n    return (\r\n      <div>\r\n        <div className={`posts ${this.state.mobile ? 'mobile' : ''}`}>\r\n          {posts}\r\n        </div>\r\n\r\n        <Loading hidden={!this.state.loading} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  _renderMobile(posts) {\r\n    return (\r\n      <TinySlider onTransitionStart={this._checkSliderMorePosts} settings={settings} ref={this.ts}>\r\n        {posts}\r\n      </TinySlider>\r\n    )\r\n  }\r\n\r\n}","import React from 'react'\r\nimport { Post } from './Post'\r\n\r\nexport class Sidebar extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"sidebar\">\r\n        {this.props.posts.map(data =>\r\n          <Post\r\n            simple={true}\r\n            key={data.id}\r\n            data={data}\r\n          />\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React, { Component } from 'react'\r\nimport { Header } from './components/Header'\r\nimport { Posts } from './components/Posts'\r\nimport { Sidebar } from './components/Sidebar'\r\nimport { postStore } from './stores/PostStore'\r\nimport EVENTS from './events'\r\nimport { themeChange } from './actions/general'\r\nimport { Loading } from './components/Loading'\r\n\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n    posts: postStore.getPosts(),\r\n    top5: []\r\n  }\r\n\r\n  componentWillMount() {\r\n    postStore.on(EVENTS.GET_POSTS, this._updatePosts)\r\n    postStore.on(EVENTS.MORE_POSTS, this._updatePosts)\r\n    postStore.on(EVENTS.LOADING(EVENTS.NEW_POST), loading => this.setState({ loading }))\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    postStore.off(EVENTS.GET_POSTS, this._updatePosts)\r\n    postStore.off(EVENTS.MORE_POSTS, this._updatePosts)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const darkTheme = window.localStorage.getItem('DARK_THEME') === 'true'\r\n    if (darkTheme) themeChange()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"main-wrapper\">\r\n          <div className='main'>\r\n            <Header />\r\n            <Loading hidden={!this.state.loading} />\r\n            <Posts posts={this.state.posts} />\r\n          </div>\r\n\r\n          <Sidebar posts={this.state.top5} />\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  _updatePosts = ({ posts, top5 }) => {\r\n\r\n    this.setState({\r\n      posts,\r\n      top5,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport default App\r\n","\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faHeart, faTrashAlt, faGlobe, faClock, faSyncAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.scss'\r\nimport App from './App'\r\n\r\nlibrary.add(faHeart, faTrashAlt, faGlobe, faClock, faSyncAlt)\r\nReactDOM.render(<App />, document.querySelector('#root'))\r\n\r\n"],"sourceRoot":""}
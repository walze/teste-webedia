(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(50)},28:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(18),r=a.n(i),c=(a(28),a(1)),o=a(5),l=a(3),u=a(2),m=a(4),d=a(11),p=function(){return window.innerWidth<767},h=function(e,t){return(Array.isArray(e)?e:[e]).map(function(e){var a=e.classList.contains(t);return a?e.classList.remove(t):e.classList.add(t),!a})},b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i))))._btn=s.a.createRef(),a.state={active:!1},a._click=function(){var e=a._btn.current,t=Object(d.a)(e.children,2),n=t[0],s=t[1],i=h([n,s],"active"),r=Object(d.a)(i,1)[0];a.setState({active:r});var c=Array.from(document.body.querySelectorAll("*"));h(c,"dark")},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"theme-btn",onClick:this._click},s.a.createElement("div",{className:"button",ref:this._btn},s.a.createElement("div",{className:"text"},this.state.active?"DARK":"LIGHT"),s.a.createElement("div",{className:"ball"})))}}]),t}(s.a.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"header"},s.a.createElement(b,null),s.a.createElement("div",{className:"heading"},s.a.createElement("h3",{className:"news"},"NEWS"),s.a.createElement("div",{className:"line"})))}}]),t}(s.a.Component),f=a(8),O=new(function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).onResize=function(t){return e.on("resize",t)},e.isMobile=p(),window.addEventListener("resize",function(){e.isMobile=p(),e.emit("resize",e.isMobile)}),e}return Object(m.a)(t,e),t}(f.EventEmitter)),j=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"img",hidden:this.props.hidden},s.a.createElement("img",{src:"https://via.placeholder.com/320",alt:""}),s.a.createElement("div",{className:"likes",hidden:this.props.simple},s.a.createElement("div",{className:"icon"},s.a.createElement("i",{className:"fi fi-heart"})),s.a.createElement("div",{className:"count"},this.props.likes)))}}]),t}(s.a.Component),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={mobile:O.isMobile},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.onResize(function(t){e.setState({mobile:t})})}},{key:"render",value:function(){var e=!!this.props.simple,t=e?"simple":"",a=this.state.mobile&&e;return s.a.createElement("div",{className:"post ".concat(t)},s.a.createElement(j,{likes:this.props.count,simple:e}),s.a.createElement("div",{className:"body"},s.a.createElement("h4",{className:"header",hidden:a},this.props.title),s.a.createElement("p",{className:"description"},this.props.body),s.a.createElement("div",{className:"footer"},s.a.createElement("div",{hidden:a||e},s.a.createElement("i",{className:"fi fi-earth icon-margin"}),s.a.createElement("span",null,this.props.author)),s.a.createElement("div",{hidden:e&&!a},s.a.createElement("i",{className:"fi fi-clock icon-margin"}),s.a.createElement("span",null,this.props.date)))))}}]),t}(s.a.Component),y=a(21),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).slider=null,a.sliderOn=O.isMobile,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._handleSliderInstantiation(O.isMobile),O.onResize(function(t){e._handleSliderInstantiation(t);var a=e.sliderOn;t&&!a&&e.slider&&(a=!0,e.slider=e.slider.rebuild()),!t&&a&&e.slider.destroy&&(a=!1,e.slider.destroy()),e.sliderOn=a})}},{key:"_handleSliderInstantiation",value:function(e){!this.slider&&e&&(this.sliderOn=!0,this.slider=Object(y.a)({container:".posts",items:1,slideBy:"page",mouseDrag:!0,controls:!1,nav:!0,navPosition:"bottom"}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"posts"},this.props.posts.map(function(e,t){return s.a.createElement(E,Object.assign({key:t},e))}))}}]),t}(s.a.Component),N=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"sidebar"},this.props.posts.map(function(e,t){return s.a.createElement(E,Object.assign({key:t,simple:!0},e))}))}}]),t}(s.a.Component),g=a(10),w=a(7),S=new(a(19).Dispatcher);console.log(S);var _=S,A=a(20),P=a.n(A).a.create({baseURL:"http://localhost:3001/"}),L="NEW_POSTS",M=new(function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this)))._onScroll=function(t){return function(){window.scrollY+window.outerHeight+t>=document.body.scrollHeight&&!e.morePostsLock&&(e.morePostsLock=!0,e.getMorePosts(++e.limit))}},e.handleActions=function(e){console.log("action",e)},e.data={posts:[],top5:[]},e.limit=1,e.morePostsLock=!1,e._infiniteScroll(),console.log(Object(w.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_infiniteScroll",value:function(){var e=this._onScroll(100);window.addEventListener("scroll",e)}},{key:"getMorePosts",value:function(e){var t=this;return P.get("posts?limit=".concat(e)).then(function(e){t.data.posts=[].concat(Object(g.a)(t.data.posts),Object(g.a)(e.data.posts)),t.emit(L,t.data),t.morePostsLock=!1}),this.data.posts}},{key:"getPosts",value:function(){var e=this;return P.get("posts").then(function(t){e.data=t.data,e.emit(L,e.data)}),this.data.posts}}]),t}(f.EventEmitter));_.register(M.handleActions);var C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={posts:M.getPosts(),top5:[]},a._updatePosts=function(e){var t=e.posts,n=e.top5;return a.setState({posts:t,top5:n})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){M.on(L,this._updatePosts)}},{key:"render",value:function(){return console.log(this.state),s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"main-wrapper"},s.a.createElement("div",{className:"main"},s.a.createElement(v,null),s.a.createElement(k,{posts:this.state.posts})),s.a.createElement(N,{posts:this.state.top5})))}}]),t}(n.Component);r.a.render(s.a.createElement(C,null),document.querySelector("#root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.7b40ec13.chunk.js.map